<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title></title>
    <description>The musings and work of Ryan Marcus, a graduate student at the Los Alamos National Laboratory.</description>
    <link>/blog/</link>
    <atom:link href="/blog//feed.xml" rel="self" type="application/rss+xml" />
    
      <item>
        <title>A Dirty JSON Parser</title>
        <description>&lt;p&gt;I’ve written a &lt;a href=&quot;http://github.com/RyanMarcus/dirty-json&quot;&gt;parser that does its best to parse invalid and malformed JSON&lt;/a&gt;. It is written in JavaScript, and is &lt;a href=&quot;https://www.npmjs.org/package/dirty-json&quot;&gt;available on NPM&lt;/a&gt;. There’s also &lt;a href=&quot;http://rmarcus.info/dirty-json&quot;&gt;an online demo&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;why&quot;&gt;Why?&lt;/h2&gt;

&lt;p&gt;Recently, I had the unfortunate job of parsing some malformed JSON. This particular JSON had a lot of embedded HTML and newlines, and looked something like this:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;{ &quot;key&quot;: &quot;&amp;lt;div class=&quot;item&quot;&amp;gt;an item
with newlines &amp;lt;span class=&quot;attrib&quot;&amp;gt; and embedded
&amp;lt;/span&amp;gt;html&amp;lt;/div&amp;gt;&quot;,
  &quot;key2&quot;: &quot;&amp;lt;div class=&quot;item&quot;&amp;gt;...&quot;
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Since this was a very large JSON file, I did not want to correct it by hand. I noticed that some of the other JSON files I had to parse were also malformed, so I began to make a list of common JSON mistakes I’d seen.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Non-escaped quotes inside of strings (&lt;code&gt;&quot;some &quot;string&quot; here&quot;&lt;/code&gt; instead of &lt;code&gt;&quot;some \&quot;string\&quot; here&quot;&lt;/code&gt;)&lt;/li&gt;
  &lt;li&gt;Decimal numbers without a leading zero (&lt;code&gt;.5&lt;/code&gt; instead of &lt;code&gt;0.5&lt;/code&gt;)&lt;/li&gt;
  &lt;li&gt;Newlines inside of keys (&lt;code&gt;&quot;some \n text&quot;&lt;/code&gt; instead of &lt;code&gt;&quot;some \\n text&quot;&lt;/code&gt;)&lt;/li&gt;
  &lt;li&gt;Single quotes used instead of double quotes (&lt;code&gt;{&#39;key&#39;: true}&lt;/code&gt; instead of &lt;code&gt;{&quot;key&quot;: true}&lt;/code&gt;)&lt;/li&gt;
  &lt;li&gt;Non-quoted object keys (&lt;code&gt;{key: true}&lt;/code&gt; instead of &lt;code&gt;{&quot;key&quot;: true}&lt;/code&gt;)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Some of these errors made the JSON ambiguous, but generally a human being could see what the JSON was “supposed” to be. Of course, no parser will be able to correctly disambiguate ambiguous JSON all the time, but I thought it was worth a try.&lt;/p&gt;

&lt;p&gt;The result is a hand-written &lt;a href=&quot;http://en.wikipedia.org/wiki/LL_parser&quot;&gt;&lt;code&gt;LL(1)&lt;/code&gt;&lt;/a&gt; parser that can handle JSON with a mix of the above errors. The parsed result will be a JavaScript object, but it might not always be the JavaScript object one expects. You can play around with &lt;a href=&quot;http://rmarcus.info/dirty-json&quot;&gt;the demo that I wrote to investigate yourself&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;I have spent no time optimizing the parser. In fact, it checks every rule whenever it finds a match regardless of the current terminal. So it’s probably pretty slow.&lt;/p&gt;

&lt;p&gt;While I’m pretty sure that this parser will correctly handle all valid JSON (you can investigate my test cases in the &lt;a href=&quot;http://github.com/RyanMarcus/dirty-json&quot;&gt;GitHub repo&lt;/a&gt;), I’m not completely convinced. This parser should probably only be used in one-time-use programs that absolutely need to handle malformed JSON.&lt;/p&gt;

&lt;p&gt;If you find a bug (or an interesting use case), let me know via &lt;a href=&quot;http://github.com/RyanMarcus/dirty-json&quot;&gt;the GitHub repo&lt;/a&gt; or &lt;a href=&quot;http://twitter.com/RyanMarcus&quot;&gt;Twitter&lt;/a&gt;.&lt;/p&gt;
</description>
        <pubDate>Sun, 05 Oct 2014 00:00:00 -0400</pubDate>
        <link>/blog//2014/10/05/dirty-json-parser.html</link>
        <guid isPermaLink="true">/blog//2014/10/05/dirty-json-parser.html</guid>
      </item>
    
      <item>
        <title>rdtheory.js: relational database algorithms in JavaScript</title>
        <description>&lt;p&gt;While reviewing &lt;a href=&quot;http://www.amazon.com/Fundamentals-Database-Systems-6th-Edition/dp/0136086209&quot;&gt;my database theory textbook&lt;/a&gt;, I stumbled across a few algorithms for &lt;a href=&quot;http://en.wikipedia.org/wiki/Database_normalization&quot;&gt;relational schema decomposition and database normalization&lt;/a&gt;. Aside from &lt;a href=&quot;https://code.google.com/p/oneschema/&quot;&gt;a dead project on Google Code&lt;/a&gt; and &lt;a href=&quot;http://uisacad5.uis.edu/cgi-bin/mcrem2/database_design_tool.cgi&quot;&gt;a buggy and apparently closed-source implementation hosted at the University of Illinois&lt;/a&gt;, I couldn’t really find any implementations or libraries implementing these algorithms.&lt;/p&gt;

&lt;p&gt;So, I created &lt;a href=&quot;http://bitbucket.org/RyanMarcus/rdtheory/&quot;&gt;rdtheory.js&lt;/a&gt; and &lt;a href=&quot;http://ryanmarcus.bitbucket.org/schemata/&quot;&gt;a small 3NF decomposition tool&lt;/a&gt;. Neither are particularly polished or documented, but the library itself contains several tests. It is entirely synchronous, which could be a problem for very large schemes. At some point I might rewrite it with &lt;a href=&quot;http://www.html5rocks.com/en/tutorials/es6/promises/&quot;&gt;promises&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;There are a few examples on the &lt;a href=&quot;https://bitbucket.org/RyanMarcus/rdtheory/&quot;&gt;BitBucket page&lt;/a&gt;, but working through an example might be useful. Consider a relation with the following attributes:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;First name [latex]F[/latex]&lt;/li&gt;
  &lt;li&gt;Last name [latex]L[/latex]&lt;/li&gt;
  &lt;li&gt;Email address [latex]E[/latex]&lt;/li&gt;
  &lt;li&gt;Home address [latex]A[/latex]&lt;/li&gt;
  &lt;li&gt;ZIP Code [latex]Z[/latex]&lt;/li&gt;
  &lt;li&gt;Manager [latex]M[/latex]&lt;/li&gt;
  &lt;li&gt;Years with company [latex]Y[/latex]&lt;/li&gt;
  &lt;li&gt;Pay [latex]P[/latex]&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;We can represent this relation as [latex]R[/latex]:&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;R = \left\{ F, L, E, A, Z, M, Y, P \right\}&lt;/script&gt;

&lt;p&gt;Next, let’s consider the semantics of the information stored in \(R\). In order to do so, it is helpful to remember the definition of a &lt;a href=&quot;http://en.wikipedia.org/wiki/Functional_dependency&quot;&gt;functional dependency&lt;/a&gt;. We say that the set of attributes \(Y \in R\) functionally depends on another set of attributes \(X \in R\) if and only if every pair of rows in \(R\) that match on the attributes \(X\) also match on the attributes \(Y\). In other words, if \(X = \{A\}\) and \(Y = \{Z\}\), then we would say that one’s ZIP code functionally depends on one’s home address if and only if any two individuals with the same home address also have the same ZIP code. We write this functional dependency as \(X \to Y\). We can also say that \(X\) &lt;em&gt;determines&lt;/em&gt; \(Y\). &lt;/p&gt;

&lt;p&gt;For our example, let’s assume the following set of functional dependencies:&lt;/p&gt;

&lt;p&gt;An employee’s first and last name determines their email address:&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\left\{F, L\right\} \to \left\{E\right\}&lt;/script&gt;

&lt;p&gt;An employee’s first and last name determines their home address:&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\left\{F, L\right\} \to \left\{A\right\}&lt;/script&gt;

&lt;p&gt;An employee’s home address determines their ZIP code:&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\left\{A\right\} \to \left\{Z\right\}&lt;/script&gt;

&lt;p&gt;An employee’s email address determines their manager:&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\left\{E\right\} \to \left\{M\right\}&lt;/script&gt;

&lt;p&gt;An employee’s years of service and their manager determines their pay:&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\left\{M, Y\right\} \to \left\{P \right\}&lt;/script&gt;

&lt;p&gt;Now, as database programmers, we could simply create one table with each attribute in \(R\) as a column. But we know better! With our relation \(R\) and all these functional dependencies, we can use various algorithms and theorems from &lt;a href=&quot;http://en.wikipedia.org/wiki/Relational_algebra&quot;&gt;relational algebra&lt;/a&gt; to create a &lt;a href=&quot;http://en.wikipedia.org/wiki/Third_normal_form&quot;&gt;3NF decomposition&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Using &lt;a href=&quot;http://ryanmarcus.bitbucket.org/schemata/&quot;&gt;the tool I developed and linked above&lt;/a&gt;, we can decompose \(R\) without computing minimal covers ourselves.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/blog//assets/rdtheory_decomp.png&quot; alt=&quot;A screenshot of the tool&quot; /&gt;&lt;/p&gt;

&lt;p&gt;From the tool, we can see that our universal relation \(R\) was not in 3NF. The tool suggests a decomposition of \(R\) into five relations, and conveniently marks the keys of each new relation with boldface. We can formally represent this decomposition as:&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;R_1 = \left\{\underline{E}, M\right\}&lt;/script&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;R_2 = \left\{E, \underline{F}, A, \underline{L}\right\}&lt;/script&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;R_3 = \left\{\underline{A}, Z\right\}&lt;/script&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;R_4 = \left\{\underline{M}, P, \underline{Y}\right\}&lt;/script&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;R_5 = \left\{\underline{F}, \underline{L}, \underline{Y}\right\}&lt;/script&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt; R_1 \cup R_2 \cup R_3 \cup R_4 \cup R_5 = R &lt;/script&gt;

&lt;p&gt;Now, we can create five tables instead of one. The algorithm used also ensures that the decomposition preserves all dependencies and is a loseless join decomposition.&lt;/p&gt;

&lt;p&gt;Happy normalizing!&lt;/p&gt;
</description>
        <pubDate>Fri, 09 May 2014 00:00:00 -0400</pubDate>
        <link>/blog//2014/05/09/rdtheory.html</link>
        <guid isPermaLink="true">/blog//2014/05/09/rdtheory.html</guid>
      </item>
    
      <item>
        <title>Fallthrough Sort: Quickly Sorting Small Sets</title>
        <description>&lt;p&gt;In many applications, such as a &lt;a href=&quot;http://en.wikipedia.org/wiki/Median_filter&quot;&gt;median filter&lt;/a&gt;, we want to sort a small ([latex]n &amp;lt; 30[/latex]) set of numbers. In the case of the median filter, we are only concerned with sorting sets of one exact size – if this is the case, one can generate an optimal &lt;a href=&quot;http://en.wikipedia.org/wiki/Sorting_network&quot;&gt;sorting network&lt;/a&gt; using a tool like &lt;a href=&quot;http://pages.ripco.net/~jgamble/nw.html&quot;&gt;this one&lt;/a&gt; to create a provably-unbeatable solution.&lt;/p&gt;

&lt;p&gt;However, often we want to be able to sort sets of varying size that are still small. Perhaps if one wished to implement a 3x3, 5x5, and 7x7 median filter using a single sorting function. Or perhaps when sorting an arbitrary list of files, when there could be very many or very few items.&lt;/p&gt;

&lt;p&gt;In this case, we can utilize a special implementation of &lt;a href=&quot;http://en.wikipedia.org/wiki/Bubble_sort&quot;&gt;bubble sort&lt;/a&gt; that takes advantage of &lt;a href=&quot;http://en.wikipedia.org/wiki/Switch_statement#Fallthrough&quot;&gt;switch statement fallthrough&lt;/a&gt;. To quickly sort sets of size [latex]n \leq 9[/latex], we could use this C code:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;c&quot;&gt;&lt;span class=&quot;cp&quot;&gt;#include &amp;lt;stdlib.h&amp;gt;&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;#define min(a, b) (a &amp;lt; b ? a : b)&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;#define max(a, b) (a &amp;gt; b ? a : b)&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;#define exch(a, b) temp = a; a = min(temp, b); b = max(temp, b);&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;#define exch3(a, b, c) exch(a, b); exch(b, c);&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;#define exch4(a,b,c,d) exch3(a,b,c); exch(c,d);&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;#define exch5(a,b,c,d,e) exch4(a,b,c,d); exch(d,e);&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;#define exch6(a,b,c,d,e,f) exch5(a,b,c,d,e); exch(e,f);&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;#define exch7(a,b,c,d,e,f,g) exch6(a,b,c,d,e,f); exch(f,g);&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;#define exch8(a,b,c,d,e,f,g,h) exch7(a,b,c,d,e,f,g); exch(g,h);&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;#define exch9(a,b,c,d,e,f,g,h,i) exch8(a,b,c,d,e,f,g,h); exch(h,i);&lt;/span&gt;



&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;cmpfunc&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// quickly sort an array if size is less than or equal to 9, otherwise use&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// stdlib&amp;#39;s qsort to sort the array.&lt;/span&gt;
&lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;fallthroughSort&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;switch&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;9&lt;/span&gt;:
     	&lt;span class=&quot;n&quot;&gt;exch9&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;
		       &lt;span class=&quot;n&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;8&lt;/span&gt;:
     	&lt;span class=&quot;n&quot;&gt;exch8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;
		       &lt;span class=&quot;n&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;7&lt;/span&gt;:
     	&lt;span class=&quot;n&quot;&gt;exch7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;
		       &lt;span class=&quot;n&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;6&lt;/span&gt;:
     	&lt;span class=&quot;n&quot;&gt;exch6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;
		       &lt;span class=&quot;n&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;:
     	&lt;span class=&quot;n&quot;&gt;exch5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;:
     	&lt;span class=&quot;n&quot;&gt;exch4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;:
     	&lt;span class=&quot;n&quot;&gt;exch3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;:
     	&lt;span class=&quot;n&quot;&gt;exch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]);&lt;/span&gt;
     	&lt;span class=&quot;k&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;nl&quot;&gt;default:&lt;/span&gt;
     	&lt;span class=&quot;n&quot;&gt;qsort&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;sizeof&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cmpfunc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Each call to [latex]exchN[/latex] represents a bubble sort pass from index [latex]0[/latex] to index [latex]N[/latex]. Any array that is of size [latex]n \leq 9[/latex] will jump to the proper pass of bubble sort, and execute all the required passes by falling through the switch statement.&lt;/p&gt;

&lt;p&gt;You might be skeptical as to how a [latex]O(n^2)[/latex] algorithm is outperforming a [latex]O(n \log n)[/latex] algorithm, but remember that big-O notation only defines asymptotic behavior. It is often the case that the actual performance of an algorithm depends on the constants hidden by big-O notation, as has been &lt;a href=&quot;http://stackoverflow.com/questions/7643377/why-is-insertion-sort-faster-than-quick-sort-and-bubble-sort-for-small-cases&quot;&gt;exhaustively discussed&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Of course, code similar to that above can be generated for any size, and a Python script to do just that is available in this &lt;a href=&quot;https://bitbucket.org/RyanMarcus/fallthrough-sort&quot;&gt;BitBucket repository&lt;/a&gt;. We’ll take a look at the performance of this algorithm.&lt;/p&gt;

&lt;p&gt;The following graph shows the performance of fallthrough sort (for [latex]n \leq 9[/latex]) compared to the standard library’s qsort function. Both functions sorted [latex]10^7[/latex] randomly generated lists of size [latex]n = 9[/latex].&lt;/p&gt;

&lt;center&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;//ajax.googleapis.com/ajax/static/modules/gviz/1.0/chart.js&quot;&gt; {&quot;dataSourceUrl&quot;:&quot;//docs.google.com/a/rmarcus.info/spreadsheet/tq?key=0AmQWGSF3o-iidFlYX1lOWUtVNENMM0lCa05Tbi1VZUE&amp;transpose=0&amp;headers=1&amp;range=A53%3AC61&amp;gid=0&amp;pub=1&quot;,&quot;options&quot;:{&quot;titleTextStyle&quot;:{&quot;bold&quot;:true,&quot;color&quot;:&quot;#000&quot;,&quot;fontSize&quot;:16},&quot;series&quot;:{&quot;0&quot;:{&quot;hasAnnotations&quot;:true}},&quot;curveType&quot;:&quot;function&quot;,&quot;animation&quot;:{&quot;duration&quot;:500},&quot;lineWidth&quot;:2,&quot;hAxis&quot;:{&quot;title&quot;:&quot;Arrays sorted&quot;,&quot;useFormatFromData&quot;:true,&quot;minValue&quot;:null,&quot;viewWindow&quot;:{&quot;min&quot;:null,&quot;max&quot;:null},&quot;maxValue&quot;:null},&quot;vAxes&quot;:[{&quot;title&quot;:&quot;Time (s)&quot;,&quot;useFormatFromData&quot;:true,&quot;minValue&quot;:null,&quot;viewWindow&quot;:{&quot;min&quot;:null,&quot;max&quot;:null},&quot;logScale&quot;:false,&quot;maxValue&quot;:null},{&quot;useFormatFromData&quot;:true,&quot;minValue&quot;:null,&quot;viewWindow&quot;:{&quot;min&quot;:null,&quot;max&quot;:null},&quot;logScale&quot;:false,&quot;maxValue&quot;:null}],&quot;title&quot;:&quot;n=9 Quicksort vs. Fallthrough Sort&quot;,&quot;booleanRole&quot;:&quot;certainty&quot;,&quot;legend&quot;:&quot;right&quot;,&quot;annotations&quot;:{&quot;domain&quot;:{}},&quot;useFirstColumnAsDomain&quot;:true,&quot;tooltip&quot;:{},&quot;width&quot;:451,&quot;height&quot;:320},&quot;state&quot;:{},&quot;view&quot;:{},&quot;isDefaultVisualization&quot;:true,&quot;chartType&quot;:&quot;LineChart&quot;,&quot;chartName&quot;:&quot;Chart 1&quot;} &lt;/script&gt;
&lt;/center&gt;
&lt;p&gt;As you can see, fallthrough sort provides a substantial speed boost. Obviously, the difference is negligible if you’re only sorting one list.&lt;/p&gt;

&lt;p&gt;This next graph shows the performance of fallthrough sort (for [latex]n \leq 25[/latex]) compared to the standard library’s qsort function when sorting [latex]10^7[/latex] lists of varying sizes.&lt;/p&gt;

&lt;center&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;//ajax.googleapis.com/ajax/static/modules/gviz/1.0/chart.js&quot;&gt; {&quot;dataSourceUrl&quot;:&quot;//docs.google.com/a/rmarcus.info/spreadsheet/tq?key=0AmQWGSF3o-iidFlYX1lOWUtVNENMM0lCa05Tbi1VZUE&amp;transpose=0&amp;headers=1&amp;range=A1%3AC24&amp;gid=0&amp;pub=1&quot;,&quot;options&quot;:{&quot;vAxes&quot;:[{&quot;useFormatFromData&quot;:true,&quot;title&quot;:&quot;Time (s)&quot;,&quot;minValue&quot;:null,&quot;logScale&quot;:false,&quot;viewWindow&quot;:{&quot;min&quot;:null,&quot;max&quot;:null},&quot;maxValue&quot;:null},{&quot;useFormatFromData&quot;:true,&quot;minValue&quot;:null,&quot;logScale&quot;:false,&quot;viewWindow&quot;:{&quot;min&quot;:null,&quot;max&quot;:null},&quot;maxValue&quot;:null}],&quot;titleTextStyle&quot;:{&quot;bold&quot;:true,&quot;color&quot;:&quot;#000&quot;,&quot;fontSize&quot;:16},&quot;booleanRole&quot;:&quot;certainty&quot;,&quot;curveType&quot;:&quot;function&quot;,&quot;title&quot;:&quot;10^7 Quicksort vs. Fallthrough Sort&quot;,&quot;animation&quot;:{&quot;duration&quot;:500},&quot;legend&quot;:&quot;right&quot;,&quot;lineWidth&quot;:2,&quot;useFirstColumnAsDomain&quot;:true,&quot;hAxis&quot;:{&quot;useFormatFromData&quot;:true,&quot;title&quot;:&quot;# of elements&quot;,&quot;minValue&quot;:null,&quot;viewWindow&quot;:{&quot;min&quot;:null,&quot;max&quot;:null},&quot;maxValue&quot;:null},&quot;tooltip&quot;:{},&quot;width&quot;:450,&quot;height&quot;:320},&quot;state&quot;:{},&quot;view&quot;:{},&quot;isDefaultVisualization&quot;:true,&quot;chartType&quot;:&quot;LineChart&quot;,&quot;chartName&quot;:&quot;Chart 2&quot;} &lt;/script&gt;
&lt;/center&gt;

&lt;p&gt;As the number of elements increases, fallthrough sort seems to slow down and approach the speed of qsort (eventually, qsort will become faster). This is expected, given the asymptotic behavior of each algorithm.&lt;/p&gt;

&lt;p&gt;This last graph shows how many times faster fallthrough sort is compared to qsort.&lt;/p&gt;

&lt;center&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;//ajax.googleapis.com/ajax/static/modules/gviz/1.0/chart.js&quot;&gt; {&quot;dataSourceUrl&quot;:&quot;//docs.google.com/a/rmarcus.info/spreadsheet/tq?key=0AmQWGSF3o-iidFlYX1lOWUtVNENMM0lCa05Tbi1VZUE&amp;transpose=0&amp;headers=1&amp;range=A26%3AB49&amp;gid=0&amp;pub=1&quot;,&quot;options&quot;:{&quot;vAxes&quot;:[{&quot;useFormatFromData&quot;:true,&quot;title&quot;:&quot;Times faster&quot;,&quot;minValue&quot;:null,&quot;viewWindow&quot;:{&quot;min&quot;:null,&quot;max&quot;:null},&quot;maxValue&quot;:null},{&quot;useFormatFromData&quot;:true,&quot;minValue&quot;:null,&quot;viewWindow&quot;:{&quot;min&quot;:null,&quot;max&quot;:null},&quot;maxValue&quot;:null}],&quot;titleTextStyle&quot;:{&quot;bold&quot;:true,&quot;color&quot;:&quot;#000&quot;,&quot;fontSize&quot;:16},&quot;booleanRole&quot;:&quot;certainty&quot;,&quot;curveType&quot;:&quot;function&quot;,&quot;title&quot;:&quot;Fallthrough Sort Speed Multiplier&quot;,&quot;animation&quot;:{&quot;duration&quot;:500},&quot;legend&quot;:&quot;right&quot;,&quot;lineWidth&quot;:2,&quot;useFirstColumnAsDomain&quot;:true,&quot;hAxis&quot;:{&quot;title&quot;:&quot;# of elements&quot;,&quot;useFormatFromData&quot;:true,&quot;minValue&quot;:null,&quot;viewWindow&quot;:{&quot;min&quot;:null,&quot;max&quot;:null},&quot;maxValue&quot;:null},&quot;tooltip&quot;:{},&quot;width&quot;:450,&quot;height&quot;:320},&quot;state&quot;:{},&quot;view&quot;:{},&quot;isDefaultVisualization&quot;:true,&quot;chartType&quot;:&quot;LineChart&quot;,&quot;chartName&quot;:&quot;Chart 3&quot;} &lt;/script&gt;
&lt;/center&gt;

&lt;p&gt;Here, the asymptotic behavior of both algorithms is extremely clear: qsort scales much better than fallthrough sort.&lt;/p&gt;

&lt;p&gt;One might consider this comparison unfair because qsort evaluates a user-supplied comparison function. However, looking at the output of GCC reveals that when a very standard function (like the one above) is used, the comparison function is inlined.&lt;/p&gt;

&lt;p&gt;One might also consider creating a &lt;a href=&quot;http://en.wikipedia.org/wiki/Branch_table&quot;&gt;branch table&lt;/a&gt; to jump right to the required pass of bubble sort. Once again, looking at optimized GCC output will show that the above switch statement is optimized into a branch table.&lt;/p&gt;

&lt;p&gt;You can view a sample implementation and benchmark code over at &lt;a href=&quot;https://bitbucket.org/RyanMarcus/fallthrough-sort&quot;&gt;BitBucket&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://plus.google.com/u/0/108417296717615529338/posts/45VYfwK5mjU&quot;&gt;Google+ comments&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.reddit.com/r/programming/comments/1hilkn/fallthrough_sort_quickly_sorting_small_sets/&quot;&gt;Reddit comments&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Reddit user &lt;a href=&quot;http://www.reddit.com/r/programming/comments/1hilkn/fallthrough_sort_quickly_sorting_small_sets/cauvhhp&quot;&gt;sltkr seems to be getting better results from a simple insertion sort&lt;/a&gt;. This appears to be due to CPU differences, but the discussion is ongoing.&lt;/p&gt;

</description>
        <pubDate>Mon, 01 Jul 2013 00:00:00 -0400</pubDate>
        <link>/blog//2013/07/01/fallthrough-sort.html</link>
        <guid isPermaLink="true">/blog//2013/07/01/fallthrough-sort.html</guid>
      </item>
    
      <item>
        <title>TopNTree: A merge-sort inspired data structure</title>
        <description>&lt;p&gt;Recently, I came across a problem in which I had to store contacts in an instant message application. I needed to be able to display the list of contacts to the user in alphabetical order, and I needed to be able to retrieve a contact object quickly. One data structure that accomplishes all this is a simple binary tree – an &lt;a href=&quot;http://en.wikipedia.org/wiki/Tree_traversal#In-order&quot;&gt;in-order traversal&lt;/a&gt; of the tree will produce the list of contacts in alphabetical order, and a &lt;a href=&quot;http://en.wikipedia.org/wiki/Binary_search_tree&quot;&gt;balanced binary tree&lt;/a&gt; provides [latex]O(\log n)[/latex] search time. &lt;/p&gt;

&lt;p&gt;However, I also needed to be able to query the [latex]k[/latex] most frequently contacted contacts. Since contacts are sorted by their names, finding the [latex]k[/latex] most frequently contacted contacts would require [latex]O(n \log n)[/latex] search time.&lt;/p&gt;

&lt;p&gt;To solve this problem, I created an &lt;a href=&quot;http://www.cs.arizona.edu/classes/cs545/fall09/Augmented-DS.prn.pdf&quot;&gt;augmented binary tree&lt;/a&gt; which provides an insertion time of [latex]O(k \log n)[/latex], a search time of [latex]O( \log n)[/latex], and can find the top [latex]k[/latex] contacts in [latex]O(1)[/latex]. You can view a Java implementation of the code &lt;a href=&quot;https://bitbucket.org/RyanMarcus/topntree/overview&quot;&gt;here&lt;/a&gt;. The code is license free, and ought to be considered public domain.&lt;/p&gt;

&lt;p&gt;In order to accomplish this, each node is augmented with an array of size [latex]k[/latex] that stores, in sorted order, the [latex]k[/latex] largest keys in it’s left and right sub-trees, including itself. Leaf nodes (nodes with no children) thus contain an array with only their own value. &lt;/p&gt;

&lt;p&gt;When a node [latex]\alpha[/latex] is inserted and becomes the left or right child of [latex]\beta[/latex], [latex]\beta[/latex]’s array is merged with [latex]\alpha[/latex]’s array, with the result stored into [latex]\beta[/latex]’s array. This merging can be done in &lt;a href=&quot;http://en.wikipedia.org/wiki/Merge_sort&quot;&gt;linear time&lt;/a&gt;, since both arrays are already sorted. After this, [latex]\beta[/latex]’s parent is updated, and then the parent’s parent, all the way up to the root of the tree.&lt;/p&gt;

&lt;p&gt;Pictures are great. Consider a tree with one node, for a contact Dave who has been contacted 10 times.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://rmarcus.info/wp-content/uploads/2013/03/r11.png&quot;&gt;&lt;img src=&quot;http://rmarcus.info/wp-content/uploads/2013/03/r11.png&quot; alt=&quot;One node&quot; width=&quot;303&quot; height=&quot;89&quot; class=&quot;aligncenter size-full wp-image-568&quot; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Then, we add another node for Betsy, who has been contacted 4 times.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://rmarcus.info/wp-content/uploads/2013/03/r2.png&quot;&gt;&lt;img src=&quot;http://rmarcus.info/wp-content/uploads/2013/03/r2.png&quot; alt=&quot;Two nodes&quot; width=&quot;320&quot; height=&quot;247&quot; class=&quot;aligncenter size-full wp-image-571&quot; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The array stored in the node representing Betsy gets merged with the parent node, Dave. Inserting another node:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://rmarcus.info/wp-content/uploads/2013/03/r3.png&quot;&gt;&lt;img src=&quot;http://rmarcus.info/wp-content/uploads/2013/03/r3.png&quot; alt=&quot;Three nodes&quot; width=&quot;407&quot; height=&quot;221&quot; class=&quot;aligncenter size-full wp-image-574&quot; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Once again, new nodes start out with only themselves in their array, and arrays are merged upwards from the node inserted.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://rmarcus.info/wp-content/uploads/2013/03/r4.png&quot;&gt;&lt;img src=&quot;http://rmarcus.info/wp-content/uploads/2013/03/r4.png&quot; alt=&quot;Four nodes&quot; width=&quot;547&quot; height=&quot;378&quot; class=&quot;aligncenter size-full wp-image-572&quot; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Another node:
&lt;a href=&quot;http://rmarcus.info/wp-content/uploads/2013/03/r5.png&quot;&gt;&lt;img src=&quot;http://rmarcus.info/wp-content/uploads/2013/03/r5.png&quot; alt=&quot;Five nodes&quot; width=&quot;696&quot; height=&quot;392&quot; class=&quot;aligncenter size-full wp-image-573&quot; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;From here, fetching the [latex]k[/latex] most contacted contacts can be done in constant time, because it simply requires the retrieval of the array from the root node.&lt;/p&gt;

&lt;p&gt;Note that in order to maintain [latex]O(k \log n)[/latex] time, the tree must be kept balanced. In my implementation, I use an &lt;a href=&quot;http://en.wikipedia.org/wiki/AVL_tree&quot;&gt;AVL tree&lt;/a&gt;. For others seeking to use an AVL tree, make sure that, after any rotation, you properly update each node rotated. The simplest solution is to clear the arrays of merged nodes, and recalculate them by merging their immediate children.&lt;/p&gt;

&lt;p&gt;In case the similarity to merge sort is not clear, here is some pseudo-code for the merging:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;&lt;span class=&quot;n&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;merge&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ParentArray&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ChildArray&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
   &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;myPos&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;size&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
   &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;theirPos&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;size&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
                
   &lt;span class=&quot;n&quot;&gt;Entry&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[]&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;newObjs&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Entry&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[];&lt;/span&gt;
   &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;size&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;--)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;myPos&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;theirPos&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;])&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
             &lt;span class=&quot;n&quot;&gt;newObjs&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;myPos&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;];&lt;/span&gt;
             &lt;span class=&quot;n&quot;&gt;myPos&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;--;&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;myPos&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;theirPos&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;])&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
             &lt;span class=&quot;n&quot;&gt;newObjs&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;myPos&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;];&lt;/span&gt;
             &lt;span class=&quot;n&quot;&gt;myPos&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;--;&lt;/span&gt;
             &lt;span class=&quot;n&quot;&gt;theirPos&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;--;&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
             &lt;span class=&quot;n&quot;&gt;newObjs&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;theirPos&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;];&lt;/span&gt;
             &lt;span class=&quot;n&quot;&gt;theirPos&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;--;&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
   &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;This process, ran on arrays of size 5, is depicted below. Initially, the new array is empty.
&lt;a href=&quot;http://rmarcus.info/wp-content/uploads/2013/03/m1.png&quot;&gt;&lt;img src=&quot;http://rmarcus.info/wp-content/uploads/2013/03/m1.png&quot; alt=&quot;m1&quot; width=&quot;656&quot; height=&quot;234&quot; class=&quot;aligncenter size-full wp-image-580&quot; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The largest value from both the parent’s old array and the child’s array are selected on each iteration, ensuring that the new array is properly ordered.
&lt;a href=&quot;http://rmarcus.info/wp-content/uploads/2013/03/m2.png&quot;&gt;&lt;img src=&quot;http://rmarcus.info/wp-content/uploads/2013/03/m2.png&quot; alt=&quot;m2&quot; width=&quot;656&quot; height=&quot;244&quot; class=&quot;aligncenter size-full wp-image-581&quot; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Note that the pointer variable (represented by the diamond) moves every time for the top array, but only moves for one of the bottom arrays or the other, except in the case where both bottom arrays have an equal value.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://rmarcus.info/wp-content/uploads/2013/03/m3.png&quot;&gt;&lt;img src=&quot;http://rmarcus.info/wp-content/uploads/2013/03/m3.png&quot; alt=&quot;m3&quot; width=&quot;667&quot; height=&quot;236&quot; class=&quot;aligncenter size-full wp-image-582&quot; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;In each iteration, the value to be placed in the top array at the diamond is determined in constant time by simply picking the larger of the two values pointed to in the lower arrays. This means that the merge operation runs in [latex]O(k)[/latex] time.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://rmarcus.info/wp-content/uploads/2013/03/m4.png&quot;&gt;&lt;img src=&quot;http://rmarcus.info/wp-content/uploads/2013/03/m4.png&quot; alt=&quot;m4&quot; width=&quot;656&quot; height=&quot;239&quot; class=&quot;aligncenter size-full wp-image-578&quot; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Unlike in a traditional merge sort, the merge process can be halted when the top array is full, because we only care about the largest [latex]k[/latex] entries.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://rmarcus.info/wp-content/uploads/2013/03/m5.png&quot;&gt;&lt;img src=&quot;http://rmarcus.info/wp-content/uploads/2013/03/m5.png&quot; alt=&quot;m5&quot; width=&quot;656&quot; height=&quot;246&quot; class=&quot;aligncenter size-full wp-image-579&quot; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;While the TopNTree provides, in my opinion, a clean solution to this particular problem, there are other possible solutions. The first thing I thought of was to simply maintain a tree of contacts sorted by name and a heap of the contacts sorted by how frequently they are contacted. In the case where the most frequently contacted contacts only needs to be calculated once, this might save some time, but if a contact’s frequency must be updated (a common event in a communication application), one would have to iterate over the entire heap. The following table shows the differences in upper bounds for different techniques. Note that in all cases [latex]k \leq n[/latex] and in most cases [latex]k &amp;lt; n[/latex] and in my case [latex]k \ll n[/latex].&lt;/p&gt;

&lt;table class=&quot;table&quot;&gt;
&lt;thead&gt;
	&lt;tr&gt;&lt;th&gt;Method&lt;/th&gt;       &lt;th&gt;Insert&lt;/th&gt;                    &lt;th&gt;Search&lt;/th&gt;                   &lt;th&gt;Getting most contacted&lt;/th&gt;    &lt;th&gt;Update&lt;/th&gt;&lt;/tr&gt;
		&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;&lt;td&gt;TopNTree&lt;/td&gt;     &lt;td&gt;[latex]O(k \log n)[/latex]&lt;/td&gt;&lt;td&gt;[latex]O(\log n)[/latex]&lt;/td&gt; &lt;td&gt;[latex]O(1)[/latex]&lt;/td&gt;       &lt;td&gt;[latex]O(k \log n)[/latex]&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Tree and heap&lt;/td&gt;&lt;td&gt;[latex]O(\log n)[/latex]&lt;/td&gt;  &lt;td&gt;[latex]O(\log n)[/latex]&lt;/td&gt; &lt;td&gt;[latex]O(k)[/latex]&lt;/td&gt;       &lt;td&gt;[latex]O(n)[/latex]&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Tree&lt;/td&gt;         &lt;td&gt;[latex]O(\log n)[/latex]&lt;/td&gt;  &lt;td&gt;[latex]O(\log n)[/latex]&lt;/td&gt; &lt;td&gt;[latex]O(n \log n)[/latex]&lt;/td&gt;&lt;td&gt;[latex]O(n)[/latex]&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Heap&lt;/td&gt;         &lt;td&gt;[latex]O(\log n)[/latex]&lt;/td&gt;  &lt;td&gt;[latex]O(n)[/latex]&lt;/td&gt;      &lt;td&gt;[latex]O(k)[/latex]&lt;/td&gt;       &lt;td&gt;[latex]O(\log n)[/latex]&lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;For me, the search time of the heap and the “getting most contacted” time of the tree made those solutions impractical, so I compared the TopNTree to a tree and a heap. Since the size of [latex]k[/latex] was both constant and very low (5, for my listing of most popular contacts), I decided to use the TopNTree.&lt;/p&gt;

&lt;p&gt;Because big-O analysis, in general, is not to be trusted, I created a synthetic benchmark that emphasized the operations I was concerned with. The results are graphed below.&lt;/p&gt;
&lt;center&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;//ajax.googleapis.com/ajax/static/modules/gviz/1.0/chart.js&quot;&gt; {&quot;dataSourceUrl&quot;:&quot;//docs.google.com/a/rmarcus.info/spreadsheet/tq?key=0AmQWGSF3o-iidDRIMm8yampxcDk4UVBCSS0zV1J6NWc&amp;transpose=0&amp;headers=1&amp;range=A1%3AC6&amp;gid=0&amp;pub=1&quot;,&quot;options&quot;:{&quot;vAxes&quot;:[{&quot;useFormatFromData&quot;:true,&quot;title&quot;:&quot;Time (s)&quot;,&quot;minValue&quot;:null,&quot;logScale&quot;:false,&quot;viewWindow&quot;:{&quot;min&quot;:null,&quot;max&quot;:null},&quot;maxValue&quot;:null},{&quot;useFormatFromData&quot;:true,&quot;minValue&quot;:null,&quot;logScale&quot;:false,&quot;viewWindow&quot;:{&quot;min&quot;:null,&quot;max&quot;:null},&quot;maxValue&quot;:null}],&quot;titleTextStyle&quot;:{&quot;bold&quot;:true,&quot;color&quot;:&quot;#000&quot;,&quot;fontSize&quot;:16},&quot;curveType&quot;:&quot;&quot;,&quot;booleanRole&quot;:&quot;certainty&quot;,&quot;title&quot;:&quot;TopNTree v AVL/Heap for k = 5&quot;,&quot;interpolateNulls&quot;:false,&quot;animation&quot;:{&quot;duration&quot;:0},&quot;domainAxis&quot;:{&quot;direction&quot;:1},&quot;legend&quot;:&quot;in&quot;,&quot;lineWidth&quot;:2,&quot;useFirstColumnAsDomain&quot;:true,&quot;hAxis&quot;:{&quot;useFormatFromData&quot;:true,&quot;title&quot;:&quot;Keys (n)&quot;,&quot;minValue&quot;:null,&quot;viewWindow&quot;:{&quot;min&quot;:null,&quot;max&quot;:null},&quot;maxValue&quot;:null},&quot;width&quot;:450,&quot;height&quot;:320},&quot;state&quot;:{},&quot;view&quot;:{},&quot;isDefaultVisualization&quot;:true,&quot;chartType&quot;:&quot;LineChart&quot;,&quot;chartName&quot;:&quot;Chart 1&quot;} &lt;/script&gt;
&lt;/center&gt;

&lt;p&gt;Obviously, no synthetic beats real-world testing. I hope the TopNTree performs well!&lt;/p&gt;

&lt;p&gt;Reddit user JustSomeBadAdvice &lt;a href=&quot;http://www.reddit.com/r/compsci/comments/19zxjg/topntree_a_mergesort_inspired_data_structure/c8syj0n&quot;&gt;points out&lt;/a&gt; that using a heap and a tree where the nodes of each are the same (or contain pointers to each other) would produce similar, and possibly faster times, with the cost of more space.&lt;/p&gt;
</description>
        <pubDate>Sat, 09 Mar 2013 00:00:00 -0500</pubDate>
        <link>/blog//2013/03/09/topntree.html</link>
        <guid isPermaLink="true">/blog//2013/03/09/topntree.html</guid>
      </item>
    
  </channel>
</rss>
